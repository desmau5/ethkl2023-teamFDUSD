<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@500;700&display=swap">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.5.2/dist/web3.min.js"></script>
    
</head>

<body>
    <div class="banner">
        <h1>DeComDAO - Decentralized Compliance DAO</h1>
        <button id="connectWalletButton">Connect Wallet</button>
    </div>
    <div class="main">
        <form class="mainForm">
            <div class="textboxTitle">
                <label for="text-input">Enter address here</label>
            </div>
            <div>
                <input type="text" id="text-input-address" name="text-input" placeholder="Address" class="textbox">
            </div>
            <div class="dropdownTitle">
                <label for="dropdown" class="dropdownTitle">Suspicious Activity</label>
            </div>
            <div>
                <select id="dropdown" name="dropdown" class="dropdown">
                    <option value="option1">Wallet Drainer</option>
                    <option value="option2">Rugpull</option>
                    <option value="option3">Malicious contract</option>
                    <option value="option4">Criminal activity</option>
                    <option value="option5">Hacker</option>
                </select>
            </div>
            <div class="twoButton">
                <button type="button" id="reportAddressButton">Report address</button>
                <button type="button" id="checkAddressButton">Check address</button>
            </div>            
        </form>
    </div>
    <script>
        // Function to connect the MetaMask wallet
        async function connectWallet() {
            // Check if MetaMask is installed
            if (typeof window.ethereum === 'undefined') {
                alert('MetaMask is not installed. Please install it.');
                return;
            }
            try {                
                await window.ethereum.request({ method: 'eth_requestAccounts' });
                const web3 = new Web3('https://rpc.test.taiko.xyz/');
                const accounts = await web3.eth.getAccounts();
                
                console.log('Connected to MetaMask. Wallet address:', accounts[0]);
                
                document.getElementById('connectWalletButton').textContent = 'Connected to Metamask';

            } catch (error) {
                console.error('Error connecting to MetaMask:', error);
            }
        }

        // event listener
        const connectWalletButton = document.getElementById('connectWalletButton');
        connectWalletButton.addEventListener('click', connectWallet);
    </script>
    <script>
        function checkAddress() {            
            alert('Address has been reported 3 times');
        }
        const checkAddressButton = document.getElementById('checkAddressButton');
        checkAddressButton.addEventListener('click', checkAddress);

        function reportAddress() {            
            alert('The address ' + document.getElementById('text-input-address').value + ' has been reported');
        }
        const reportAddressButton = document.getElementById('reportAddressButton');
        reportAddressButton.addEventListener('click', reportAddress);
    </script>
</body>

</html>